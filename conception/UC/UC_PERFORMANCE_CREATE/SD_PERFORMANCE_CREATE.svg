<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1137px" preserveAspectRatio="none" style="width:1538px;height:1137px;" version="1.1" viewBox="0 0 1538 1137" width="1538px" zoomAndPan="magnify"><defs><filter height="300%" id="fyf0152g3n9ub" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="199" x="670.25" y="24.5332">SD_PERFORMANCE_CREATE</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="664.5" y="159.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="671.5" y="181.1035">:PerformanceController</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="148" y="266.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="155" y="288.416">:PerformanceCreateView</text><rect fill="#FFFFFF" filter="url(#fyf0152g3n9ub)" height="666.4766" style="stroke: #000000; stroke-width: 2.0;" width="1513.5" x="13" y="441.8984"/><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="954" y="520.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="961" y="542.4863">:PerformanceController</text><rect fill="#FFFFFF" filter="url(#fyf0152g3n9ub)" height="64.9609" style="stroke: #000000; stroke-width: 2.0;" width="386" x="944" y="574.5625"/><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="1129" y="592.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="1140" y="614.4473">performance: Performance</text><rect fill="#FFFFFF" filter="url(#fyf0152g3n9ub)" height="219.5547" style="stroke: #000000; stroke-width: 2.0;" width="1424" x="23" y="757.5781"/><rect fill="#FFFFFF" height="92.7969" style="stroke: none; stroke-width: 1.0;" width="1424" x="23" y="884.3359"/><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="333" y="900.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="340" y="921.7051">:PerformanceCreateView</text><rect fill="#FFFFFF" height="124.2422" style="stroke: none; stroke-width: 1.0;" width="1513.5" x="13" y="984.1328"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="55" x2="55" y1="119.2188" y2="1125.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="235" x2="235" y1="300.1875" y2="1125.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="420" x2="420" y1="933.4766" y2="1125.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="554" x2="554" y1="119.2188" y2="1125.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="746.5" x2="746.5" y1="192.875" y2="1125.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="910" x2="910" y1="119.2188" y2="1125.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1036" x2="1036" y1="554.2578" y2="1125.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1224" x2="1224" y1="626.2188" y2="1125.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1383" x2="1383" y1="119.2188" y2="1125.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="33" y="116.1426">Admin</text><ellipse cx="55.5" cy="44.6094" fill="#FEFECE" filter="url(#fyf0152g3n9ub)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M55.5,52.6094 L55.5,79.6094 M42.5,60.6094 L68.5,60.6094 M55.5,79.6094 L42.5,94.6094 M55.5,79.6094 L68.5,94.6094 " fill="none" filter="url(#fyf0152g3n9ub)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="518" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="525" y="104.1426">:Routeur</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="876" y="65"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="884" y="86">«class»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="883" y="103.6094">Theater</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="1330" y="65"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="1357.5" y="86">«class»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="1345" y="103.6094">Performance</text><polygon fill="#A80036" points="542.5,147.5703,552.5,151.5703,542.5,155.5703,546.5,151.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="548.5" y1="151.5703" y2="151.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="62.5" y="146.7139">[GET]/performance/create/&lt;idShow&gt;</text><polygon fill="#A80036" points="652.5,177.9219,662.5,181.9219,652.5,185.9219,656.5,181.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="554.5" x2="658.5" y1="181.9219" y2="181.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="561.5" y="177.0654">create(idShow)</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="664.5" y="159.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="671.5" y="181.1035">:PerformanceController</text><polygon fill="#A80036" points="898,224.5313,908,228.5313,898,232.5313,902,228.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="747" x2="904" y1="228.5313" y2="228.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="754" y="223.6748">getTheaters() : Theater[]</text><polygon fill="#A80036" points="758,254.8828,748,258.8828,758,262.8828,754,258.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="752" x2="909" y1="258.8828" y2="258.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="764" y="254.0264">theaters</text><polygon fill="#A80036" points="334,285.2344,324,289.2344,334,293.2344,330,289.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="328" x2="746" y1="289.2344" y2="289.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="340" y="284.3779">new(theaters,idShow)</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="148" y="266.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="155" y="288.416">:PerformanceCreateView</text><polygon fill="#A80036" points="223.5,331.8438,233.5,335.8438,223.5,339.8438,227.5,335.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="229.5" y1="335.8438" y2="335.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="62.5" y="330.9873">setTheatre(theater:Theater)</text><polygon fill="#A80036" points="223.5,362.1953,233.5,366.1953,223.5,370.1953,227.5,366.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="229.5" y1="366.1953" y2="366.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="62.5" y="361.3389">setBeginDate(date:Date)</text><polygon fill="#A80036" points="223.5,392.5469,233.5,396.5469,223.5,400.5469,227.5,396.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="229.5" y1="396.5469" y2="396.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="62.5" y="391.6904">setEndDate(date:Date)</text><polygon fill="#A80036" points="223.5,422.8984,233.5,426.8984,223.5,430.8984,227.5,426.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="229.5" y1="426.8984" y2="426.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="62.5" y="422.042">setTime(time:int)</text><path d="M13,441.8984 L74,441.8984 L74,449.8984 L64,459.8984 L13,459.8984 L13,441.8984 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="666.4766" style="stroke: #000000; stroke-width: 2.0;" width="1513.5" x="13" y="441.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="28" y="456.3936">alt</text><polygon fill="#A80036" points="223.5,478.6016,233.5,482.6016,223.5,486.6016,227.5,482.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="229.5" y1="482.6016" y2="482.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="62.5" y="477.7451">create()</text><polygon fill="#A80036" points="542.5,508.9531,552.5,512.9531,542.5,516.9531,546.5,512.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="235.5" x2="548.5" y1="512.9531" y2="512.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="242.5" y="508.0967">[POST]/performance/create/&lt;...,idShow&gt;</text><polygon fill="#A80036" points="942,539.3047,952,543.3047,942,547.3047,946,543.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="554.5" x2="948" y1="543.3047" y2="543.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="561.5" y="538.4482">create(idShow,...)</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="954" y="520.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="961" y="542.4863">:PerformanceController</text><path d="M944,574.5625 L1017,574.5625 L1017,582.5625 L1007,592.5625 L944,592.5625 L944,574.5625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="64.9609" style="stroke: #000000; stroke-width: 2.0;" width="386" x="944" y="574.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="959" y="589.0576">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="1032" y="587.9814">[foreach performances]</text><polygon fill="#A80036" points="1117,611.2656,1127,615.2656,1117,619.2656,1121,615.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1036.5" x2="1123" y1="615.2656" y2="615.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="1043.5" y="610.4092">new (...)</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="1129" y="592.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="1140" y="614.4473">performance: Performance</text><polygon fill="#A80036" points="1371.5,664.875,1381.5,668.875,1371.5,672.875,1375.5,668.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1036.5" x2="1377.5" y1="668.875" y2="668.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="1043.5" y="664.0186">validateAll(performances)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1383.5" x2="1425.5" y1="699.2266" y2="699.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1425.5" x2="1425.5" y1="699.2266" y2="712.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1384.5" x2="1425.5" y1="712.2266" y2="712.2266"/><polygon fill="#A80036" points="1394.5,708.2266,1384.5,712.2266,1394.5,716.2266,1390.5,712.2266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1390.5" y="694.3701">findConflicts():String[]</text><polygon fill="#A80036" points="1047.5,738.5781,1037.5,742.5781,1047.5,746.5781,1043.5,742.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1041.5" x2="1382.5" y1="742.5781" y2="742.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="1053.5" y="737.7217">errors</text><path d="M23,757.5781 L84,757.5781 L84,765.5781 L74,775.5781 L23,775.5781 L23,757.5781 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="219.5547" style="stroke: #000000; stroke-width: 2.0;" width="1424" x="23" y="757.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="38" y="772.0732">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="99" y="770.9971">[errors ==[]]</text><polygon fill="#A80036" points="1371.5,794.2813,1381.5,798.2813,1371.5,802.2813,1375.5,798.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1036.5" x2="1377.5" y1="798.2813" y2="798.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1043.5" y="793.4248">saveAll(performances)</text><polygon fill="#A80036" points="565.5,824.6328,555.5,828.6328,565.5,832.6328,561.5,828.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="559.5" x2="1035.5" y1="828.6328" y2="828.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="571.5" y="823.7764">[GET]/performance/list/&lt;idShow&gt;</text><rect fill="#FFFFFF" filter="url(#fyf0152g3n9ub)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="167" x="515" y="836.6328"/><polygon fill="#EEEEEE" points="515,836.6328,577,836.6328,577,844.6328,567,854.6328,515,854.6328,515,836.6328" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="528" y="852.1279">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="521" y="872.1279">SD_PERFORMANCE_LIST</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1447" y1="885.3359" y2="885.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="896.7549">[else]</text><polygon fill="#A80036" points="519,918.5234,509,922.5234,519,926.5234,515,922.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="513" x2="746" y1="922.5234" y2="922.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="525" y="917.667">new (errors)</text><rect fill="#FEFECE" filter="url(#fyf0152g3n9ub)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="333" y="900.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="340" y="921.7051">:PerformanceCreateView</text><polygon fill="#A80036" points="408.5,965.1328,418.5,969.1328,408.5,973.1328,412.5,969.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="414.5" y1="969.1328" y2="969.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="62.5" y="964.2764">/*retry*/</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1526.5" y1="985.1328" y2="985.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="18" y="996.5518">[else]</text><polygon fill="#A80036" points="223.5,1018.3203,233.5,1022.3203,223.5,1026.3203,227.5,1022.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55.5" x2="229.5" y1="1022.3203" y2="1022.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="62.5" y="1017.4639">cancel()</text><polygon fill="#A80036" points="542.5,1048.6719,552.5,1052.6719,542.5,1056.6719,546.5,1052.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="235.5" x2="548.5" y1="1052.6719" y2="1052.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="242.5" y="1047.8154">[GET]/performance/list/&lt;idShow&gt;</text><rect fill="#FFFFFF" filter="url(#fyf0152g3n9ub)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="167" x="515" y="1060.6719"/><polygon fill="#EEEEEE" points="515,1060.6719,577,1060.6719,577,1068.6719,567,1078.6719,515,1078.6719,515,1060.6719" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="528" y="1076.167">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="521" y="1096.167">SD_PERFORMANCE_LIST</text><!--
@startuml SD_PERFORMANCE_CREATE
title SD_PERFORMANCE_CREATE
hide footbox
Actor "Admin" as A

Participant ":PerformanceCreateView" as PCV
Participant ":PerformanceCreateView" as PCV2
Participant ":Routeur" as R
Participant ":PerformanceController" as PC
Participant "Theater" as TH<<class>>
Participant ":PerformanceController" as PC2
Participant " performance: Performance" as P
Participant "  Performance" as tc<<class>>


A-> R : [GET]/performance/create/<idShow>

create  PC
R -> PC : create(idShow)


PC -> TH : getTheaters() : Theater[]
TH - -> PC : theaters


create PCV
PC -> PCV : new(theaters,idShow)
A->PCV :setTheatre(theater:Theater)
A->PCV :setBeginDate(date:Date)
A->PCV :setEndDate(date:Date)
A->PCV :setTime(time:int)

alt
    A->PCV :create()
    PCV -> R : [POST]/performance/create/<...,idShow>

    create PC2
    R->PC2:create(idShow,...)



    loop  foreach performances

        create P
        PC2->P: new (...)
        end
        
        PC2->tc:validateAll(performances)
        tc->tc:findConflicts():String[]
        tc- ->PC2: errors
      
        
    


    alt errors ==[]
        PC2->tc:saveAll(performances)
        PC2- ->R:[GET]/performance/list/<idShow>
        ref over R: SD_PERFORMANCE_LIST
    else else
        create PCV2
        PC-> PCV2 :new (errors)
        
        A-> PCV2 :/*retry*/

    end

else else
    A->PCV:cancel()
    PCV-> R: [GET]/performance/list/<idShow>
    ref over R: SD_PERFORMANCE_LIST
end



@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_221-b11
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>